# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃ 🧙‍♂️ DrEstranho.yml - Criação inicial do ritual em recipes/          ┃
# ┃ 📍 Executado na branch main, escreve em Tutor-Demoníaco/recipes/     ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

name: Criação de Ritual por DrEstranho

on:
  workflow_dispatch:
    inputs:
      nome:
        description: 'Nome do ritual'
        required: true
        type: string
      destino:
        description: 'Destino dimensional'
        required: true
        type: string

jobs:
  criar_ritual:
    name: ✨ Criar ritual em recipes/
    runs-on: ubuntu-latest

    steps:
      # ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
      # ┃ 📦 Etapa 1 - Checkout do Grimório                         ┃
      # ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
      - name: 📦 Checkout do Grimório
        uses: actions/checkout@v3

      # ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
      # ┃ 🧾 Etapa 2 - Criar arquivo ritualístico                   ┃
      # ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
      - name: 🧾 Criar arquivo ritualístico
        run: |
          mkdir -p Tutor-Demoníaco/recipes
          echo "nome: ${{ inputs.nome }}" > Tutor-Demoníaco/recipes/${{ inputs.nome }}.txt
          echo "destino: ${{ inputs.destino }}" >> Tutor-Demoníaco/recipes/${{ inputs.nome }}.txt
          echo "🧙 Ritual '${{ inputs.nome }}' criado com destino '${{ inputs.destino }}'"

      # ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
      # ┃ 📤 Etapa 3 - Comitar ritual criado                        ┃
      # ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
      - name: 📤 Comitar ritual criado
        run: |
          git config --global user.name "DrEstranho"
          git config --global user.email "magus@vdf.com"
          git add Tutor-Demoníaco/recipes/${{ inputs.nome }}.txt
          git commit -m "DrEstranho: ritual '${{ inputs.nome }}' criado para '${{ inputs.destino }}'"
          git push
