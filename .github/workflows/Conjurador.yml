name: ğŸ§™â€â™‚ï¸ Conjurador

on:
  workflow_dispatch:
    inputs:
      ritual:
        description: "Nome do ritual a ser conjurado"
        required: true
        default: "vigilancia_silenciosa"

jobs:
  passo_1_gerar:
    name: ğŸ§ª Gerar artefatos
    runs-on: ubuntu-latest
    steps:
      - name: Checkout do repositÃ³rio
        uses: actions/checkout@v3

      - name: Instalar Dart
        uses: dart-lang/setup-dart@v1

      - name: Executar Gerador Ritualico
        run: |
          echo "ğŸ”§ Gerando ritual: ${{ github.event.inputs.ritual }}"
          dart instrumentos_magicos/gerador_ritualico.dart ${{ github.event.inputs.ritual }}

  passo_2_migrar:
    name: ğŸ“¦ Migrar para GrimÃ³rio
    needs: passo_1_gerar
    runs-on: ubuntu-latest
    steps:
      - name: Checkout do repositÃ³rio
        uses: actions/checkout@v3

      - name: Instalar Dart
        uses: dart-lang/setup-dart@v1

      - name: Executar Migrador GrimÃ³rio
        run: |
          echo "ğŸ“¦ Migrando ritual: ${{ github.event.inputs.ritual }}"
          dart instrumentos_magicos/migrador_grimorio.dart ${{ github.event.inputs.ritual }}

  passo_3_selar:
    name: ğŸ”® Selar com aprovaÃ§Ã£o
    needs: passo_2_migrar
    runs-on: ubuntu-latest
    steps:
      - name: Checkout do repositÃ³rio
        uses: actions/checkout@v3

      - name: Instalar Dart
        uses: dart-lang/setup-dart@v1

      - name: Executar Selador DemonÃ­aco
        run: |
          echo "ğŸ”® Selando ritual: ${{ github.event.inputs.ritual }}"
          dart instrumentos_magicos/selador_demonÃ­aco.dart ${{ github.event.inputs.ritual }}
